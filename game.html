<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>輸入暱稱</title>

  <!-- 跟首頁同一份 CSS（如果你叫 style.css） -->
  <link rel="stylesheet" href="./style.css?v=game1" />
  <style>
    /* 讓 gb 畫面可以放 absolute 元素 */
.gb{
  position: relative;
  padding: 14px;
}

/* scene 先當作正常容器 */
.scene{
  height: 100%;
}

/* ✅ 對話框浮起來（你調這裡就好） */
.dialog{
  position: absolute;
  left: 14px;
  right: 14px;

  bottom: 13px;   /* ✅ 往上移：數字越大越上（例如 34→48→60） */
}

/* ✅ 角色區域避免被對話框遮住：留出對話框高度 */
.top{
  height: 100%;
  display: grid;
  place-items: center;
  padding-top: 10px;
  padding-bottom: 170px; /* ✅ 留空間給對話框，避免重疊（可微調 150~200） */
}

    /* ✅ 放大人物：不糊、保持像素 */
.playerWrap{
  transform: scale(1.8);   /* 1.2~1.8 自己調 */
  transform-origin: center bottom; /* 從腳底放大比較自然 */
}

/* 放大後陰影也要跟著變大一點（可選） */
.shadow{
  width: 78px;
  height: 16px;
}

    /* 這頁專用的小補丁（不改你原本首頁排版） */
    .gb{ padding: 14px; }

    .scene{
      height: 100%;
      display: grid;
      grid-template-rows: 1fr auto;
      gap: 10px;
    }

    .top{
      display: grid;
      place-items: center;
      padding-top: 10px;
    }

    .player{
      width: min(52cqw, 220px);
      image-rendering: pixelated;
      filter: saturate(.75) contrast(1.0); 
       width: min(52cqw, 220px);
  transform: scale(1.8);
  transform-origin: center bottom;/* ✅ 彩度稍低 */
    }

    /* 對話框/輸入區 */
    .dialog{
      border: 4px solid var(--gb3);
      box-shadow: inset 0 0 0 3px var(--gb2);
      background: var(--gb0);
      padding: 10px 12px;
    }

    .line{
      font-weight: 800;
      letter-spacing: .06em;
      margin-bottom: 8px;
    }

    .row{
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      align-items: center;
    }

    input.nick{
      width: 100%;
      border: 3px solid var(--gb3);
      background: rgba(255,255,255,.35);
      padding: 10px 10px;
      font-size: 16px;
      font-weight: 800;
      letter-spacing: .06em;
      outline: none;
    }

    .btn{
      border: 3px solid var(--gb3);
      background: var(--gb1);
      padding: 10px 12px;
      font-weight: 900;
      letter-spacing: .08em;
      cursor: pointer;
    }

    .btn:active{ transform: translateY(1px); }

    .hint2{
      margin-top: 8px;
      font-size: 12px;
      font-weight: 800;
      opacity: .85;
      letter-spacing: .06em;
      display:flex;
      align-items:center;
      gap: 8px;
    }

    .blink{
      display:inline-block;
      animation: blink 1s steps(2,end) infinite;
    }
    @keyframes blink { 50% { opacity:0; } }
  </style>
</head>

<body>
  <div class="page">
    <main class="gb">
      <div class="scene">
        <section class="top" aria-label="角色">
          <img class="player" src="./assets/player.png" alt="玩家角色" />
        </section>

        <section class="dialog" aria-label="輸入暱稱">
          <div class="line">你叫什麼名字呢？</div>

          <div class="row">
            <input
              class="nick"
              id="nick"
              type="text"
              maxlength="12"
              placeholder="輸入 1–12 字"
              autocomplete="off"
              spellcheck="false"
            />
            <button class="btn" id="ok">確認</button>
          </div>

          <div class="hint2">
            <span class="blink">▶</span>
            <span>按 Enter 或點確認</span>
          </div>
        </section>
      </div>

      <!-- 如果你原本有 overlay（抖動/掃描線），留著會更像 -->
      <div class="overlay" aria-hidden="true"></div>
    </main>
  </div>

<script>
  const input = document.getElementById("nick");
  const ok = document.getElementById("ok");

  function cleanName(s){
    return (s || "").trim().replace(/\s+/g, " ");
  }

  function submit(){
    const name = cleanName(input.value);
    if(!name){
      input.focus();
      return;
    }
    localStorage.setItem("playerName", name);

    // ✅ 跳到 world
    window.location.assign("world.html");
  }

  ok.addEventListener("click", submit);

  input.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      submit();
    }
  });

  // 自動聚焦
  setTimeout(() => input.focus(), 100);
</script>

</div>
</body>
</html>
